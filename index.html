<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🚀 QuickKart - Grocery in Minutes</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="main-header">
    <div class="header-container">
      <div class="logo-box">
        <span class="logo-text">Quick<span>Kart</span></span>
      </div>
      
      <!-- Shop Status Toggle -->
      <div class="shop-status-container">
        <label class="switch">
          <input type="checkbox" id="shopStatusToggle" checked>
          <span class="slider round"></span>
        </label>
        <span id="shopStatusText">Open</span>
      </div>
      
      <div class="header-actions">
        <div class="location">
          <i class="fas fa-map-marker-alt"></i>
          <span>Home</span>
        </div>
        <div class="cart-icon" id="cartToggle">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-count" id="cartCount">0</span>
        </div>
      </div>
    </div>

    <!-- Search Bar -->
    <div class="search-section">
      <div class="search-bar">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Search for products..." id="searchInput">
      </div>
    </div>

    <!-- Categories -->
    <div class="categories-scroll">
      <div class="categories">
        <button class="category-btn active" data-category="all">
          <img src="images/all-category-bg.png" alt="All Items" class="category-image">
          <span class="category-name">All</span>
        </button>
        <button class="category-btn" data-category="Atta Rice & Daal">
          <img src="images/atta-rice-bg.png" alt="Atta Rice & Daal" class="category-image">
          <span class="category-name">Atta Rice & Daal</span>
        </button>
        <button class="category-btn" data-category="Masala & Oil">
          <img src="images/masala-oil-bg.png" alt="Masala & Oil" class="category-image">
          <span class="category-name">Masala & Oil</span>
        </button>
        <button class="category-btn" data-category="Bakery & Biscuits">
          <img src="images/bakery-bg.png" alt="Bakery & Biscuits" class="category-image">
          <span class="category-name">Bakery & Biscuits</span>
        </button>
        <button class="category-btn" data-category="Cold Drinks & Juices">
          <img src="images/drinks-bg.png" alt="Cold Drinks & Juices" class="category-image">
          <span class="category-name">Cold Drinks & Juices</span>
        </button>
        <button class="category-btn" data-category="Pan Corner">
          <img src="images/pan-corner-bg.png" alt="Pan Corner" class="category-image">
          <span class="category-name">Pan Corner</span>
        </button>
        <button class="category-btn" data-category="Personal Care">
          <img src="images/personal-care-bg.png" alt="Personal Care" class="category-image">
          <span class="category-name">Personal Care</span>
        </button>
        <button class="category-btn" data-category="Cleaning Care">
          <img src="images/cleaning-bg.png" alt="Cleaning Care" class="category-image">
          <span class="category-name">Cleaning Care</span>
        </button>
        <button class="category-btn" data-category="Dry Fruits">
          <img src="images/dry-fruits-bg.png" alt="Dry Fruits" class="category-image">
          <span class="category-name">Dry Fruits</span>
        </button>
        <button class="category-btn" data-category="Baby Care">
          <img src="images/baby-care-bg.png" alt="Baby Care" class="category-image">
          <span class="category-name">Baby Care</span>
        </button>
        <button class="category-btn" data-category="Maxo Killer & candle">
          <img src="images/agarbatti.png" alt="Maxo Killer & candle" class="category-image">
          <span class="category-name">Maxo Killer & candle</span>
        </button>
        <button class="category-btn" data-category="Gass">
          <img src="images/gass-bg.png" alt="Gass" class="category-image">
          <span class="category-name">Gass</span>
        </button>
        <button class="category-btn" data-category="Electronics">
          <img src="images/electronics-bg.png" alt="Electronics" class="category-image">
          <span class="category-name">Electronics</span>
        </button>
        <button class="category-btn" data-category="Stationary">
          <img src="images/stationary-bg.png" alt="Stationary" class="category-image">
          <span class="category-name">Stationary</span>
        </button>
        <button class="category-btn" data-category="Colgate & Brush">
          <img src="images/colgate-brush-bg.png" alt="Colgate & Brush" class="category-image">
          <span class="category-name">Colgate & Brush</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Shop Closed Banner -->
  <div class="shop-closed-banner">SHOP IS CURRENTLY OFF</div>

  <!-- Main Content -->
  <main class="container">
    <section class="product-section">
      <h2 class="section-title">Daily Essentials</h2>
      <div class="store" id="storeItems">
        <!-- Products will be inserted here by JavaScript -->
      </div>
    </section>

    <section class="product-section">
      <h2 class="section-title">Popular Items</h2>
      <div class="store" id="popularItems">
        <!-- Popular items will be inserted here by JavaScript -->
      </div>
    </section>
  </main>

  <!-- Cart Sidebar -->
  <div id="cart" class="quickkart-cart">
    <div class="cart-header">
      <h2>Your Cart</h2>
      <button class="close-cart" id="closeCart">&times;</button>
    </div>

    <div id="cartContent">
      <ul id="cartList"></ul>
      <div id="cartEmpty" class="empty-cart">
        <img src="images/emptyCart.webp" alt="Empty Cart">
        <h3>Your cart is empty</h3>
        <p>Add items to get started</p>
        <button id="continueShopping">Continue Shopping</button>
      </div>
    </div>

    <div id="cartFull" class="cart-summary">
      <div class="bill-details">
        <div class="bill-row">
          <span>Item Total</span>
          <span id="itemTotal">₹0</span>
        </div>
        <div class="bill-row">
          <span>Delivery Fee</span>
          <span id="deliveryFee">FREE</span>
        </div>
        <div class="bill-row total">
          <span>Total</span>
          <span id="cartTotal">₹0</span>
        </div>
      </div>

      <div class="cart-form">
        <input type="text" id="customerName" placeholder="আপোনাৰ নাম" required>
        
        <div class="location-input-group">
          <input type="text" id="customerAddress" placeholder="Delivery Address" required readonly>
          <button type="button" id="getLocationBtn" title="Auto-fill address">
            <i class="fas fa-map-marker-alt"></i> Get Location
          </button>
        </div>
        <p id="locationDisplay" class="location-message"></p>
        <input type="hidden" id="userLat">
        <input type="hidden" id="userLng">
        
        <input type="tel" id="customerPhone" pattern="[0-9]{10}" maxlength="10" placeholder="📞মোবাইল নম্বৰ" required>

        <button id="orderBtn" class="quickkart-btn">
          <i class="fab fa-whatsapp"></i> Place Order
        </button>
      </div>
    </div>
  </div>

  <!-- Overlay -->
  <div id="cartOverlay" class="cart-overlay"></div>

  <!-- Notification -->
  <div id="notification" class="quickkart-notification"></div>

  <!-- Shop Closed Notification -->
  <div id="shopClosedNotification" class="shop-closed-alert">
    <div class="alert-content">
      <i class="fas fa-store-slash"></i>
      <div class="alert-text">
        <h3>Shop is Currently Closed</h3>
        <p>Will open tomorrow morning!</p>
      </div>
      <button class="close-alert">&times;</button>
    </div>
  </div>
  
  <button id="resetCartBtn" style="position: fixed; bottom: 20px; right: 20px; z-index: 10000; padding: 10px; background: red; color: white; border: none; border-radius: 5px; cursor: pointer;">Reset Cart</button>

  <!-- JavaScript Files -->
  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="store.js"></script>
  <script type="module" src="cart.js"></script>
  <script type="module" src="location.js"></script>
  <script type="module" src="main.js"></script>
  <script type="module" src="utils.js"></script>
</body>
</html>